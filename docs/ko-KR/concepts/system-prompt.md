---
summary: "시스템 프롬프트, AGENTS.md, SOUL.md 커스터마이징"
read_when:
  - 에이전트 동작을 커스터마이징할 때
title: "시스템 프롬프트"
---

# 시스템 프롬프트

시스템 프롬프트는 에이전트의 동작과 성격을 정의합니다.

## 프롬프트 계층

OpenClaw는 여러 레벨의 프롬프트를 조합합니다:

```
기본 시스템 프롬프트 (내장)
    ↓
워크스페이스 프롬프트 (AGENTS.md, SOUL.md)
    ↓
스킬 프롬프트 (활성화된 스킬)
    ↓
채널별 프롬프트 (선택사항)
```

## 워크스페이스 프롬프트

### AGENTS.md

에이전트에게 전역 지침을 제공합니다:

```markdown
# 에이전트 지침

## 역할

당신은 개발 보조 AI입니다.

## 규칙

1. 항상 한국어로 응답하세요
2. 코드 변경 전 확인을 요청하세요
3. 민감한 정보를 노출하지 마세요

## 코딩 스타일

- TypeScript 선호
- ESLint 규칙 준수
- 명확한 변수명 사용
```

### SOUL.md

에이전트의 성격을 정의합니다:

```markdown
# 성격

## 톤앤매너

- 친절하고 도움이 되는 어조
- 기술적이지만 접근 가능한 설명
- 적절한 유머 사용

## 응답 스타일

- 간결하게 시작하고 필요시 상세화
- 예시 코드 적극 활용
- 다음 단계 제안

## 피해야 할 것

- 과도하게 형식적인 언어
- 불필요한 사과
- 확실하지 않은 정보 단정
```

### TOOLS.md

도구 사용 지침:

```markdown
# 도구 사용 지침

## bash

- 시스템 변경 전 확인 요청
- 위험한 명령어 실행 전 경고
- 프로덕션 환경에서 주의

## browser

- 로그인이 필요한 사이트 주의
- 스크린샷에서 민감 정보 확인
- 세션 정리

## write

- 중요한 파일 백업 권장
- 변경 내용 요약 제공
```

## 채널별 프롬프트

특정 채널에 대한 추가 지침:

```json5
{
  channels: {
    telegram: {
      systemPrompt: "Telegram 응답은 간결하게 유지하세요.",
    },
    discord: {
      systemPrompt: "Discord 마크다운 형식을 사용하세요.",
    },
  },
}
```

## 사용자별 프롬프트

특정 사용자에 대한 커스텀 지침:

```json5
{
  bindings: [
    {
      peer: { kind: "dm", channel: "telegram", sender: "123456789" },
      systemPrompt: "이 사용자는 시니어 개발자입니다. 간결하게 응답하세요.",
    },
  ],
}
```

## 그룹별 프롬프트

```json5
{
  channels: {
    telegram: {
      groups: {
        "-123456789": {
          systemPrompt: "이 그룹은 초보자용입니다. 자세히 설명하세요.",
        },
      },
    },
  },
}
```

## 프롬프트 변수

시스템 프롬프트에서 사용 가능한 변수:

| 변수           | 설명           |
| -------------- | -------------- |
| `{{channel}}`  | 현재 채널      |
| `{{sender}}`   | 발신자 ID      |
| `{{agentId}}`  | 에이전트 ID    |
| `{{datetime}}` | 현재 날짜/시간 |
| `{{timezone}}` | 시간대         |

```markdown
# 컨텍스트

현재 시간: {{datetime}}
시간대: {{timezone}}
채널: {{channel}}
```

## 프롬프트 최적화

### DO

- 명확하고 구체적인 지침
- 예시 포함
- 우선순위 명시

### DON'T

- 모순되는 지침
- 너무 긴 프롬프트
- 모호한 표현

## 프롬프트 테스트

### 런타임 확인

채팅에서:

```
/debug prompt
```

### 프롬프트 미리보기

```bash
openclaw debug prompt --agent main
```

## 베스트 프랙티스

1. **계층 활용**: 공통 지침은 AGENTS.md, 세부 지침은 채널/사용자별
2. **정기 검토**: 프롬프트 효과 주기적 검토
3. **버전 관리**: Git으로 프롬프트 변경 추적
4. **A/B 테스트**: 다른 프롬프트로 실험
